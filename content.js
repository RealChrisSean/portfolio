const portfolioContent = {
    videos: [
        {
            title: 'Kimi K2 Thinking: Testing the Model That Beat GPT-5',
            description: 'Open-source models are getting scary good. Kimi K2 Thinking from Moonshot AI just beat GPT-5 on Humanity\'s Last Exam, and you can run it on consumer hardware right now.',
            date: 'Nov 28, 2025',
            youtubeId: 'tNNxELV6F0s',
            customThumbnail: '/imgs/kimi.webp'
        },
        {
            title: 'Build a Semantic Q&A App in Minutes',
            description: 'Learn how to quickly build intelligent Q&A applications using semantic search and AI.',
            date: 'Jun 19, 2025',
            youtubeId: 'LT-BtP84mdQ'
        },
        {
            title: 'How to deploy a TiDB Cluster using TiUP',
            description: 'Step-by-step guide to deploying your TiDB cluster with TiUP deployment tool.',
            date: 'Mar 19, 2025',
            youtubeId: 'nyJm5udXpVQ'
        },
        {
            title: 'Migrate your Data from Planetscale to TiDB',
            description: 'Complete walkthrough for migrating your database from Planetscale to TiDB Cloud.',
            date: 'Jan 29, 2025',
            youtubeId: 'c1qEuQ8876g'
        },
        {
            title: 'Build Your First Cluster with TiDB',
            description: 'Get started with TiDB by building your first database cluster from scratch.',
            date: 'Nov 18, 2024',
            youtubeId: '3jfxsGZExRw'
        },
        {
            title: 'Introduction to TiDB Cloud',
            description: 'Your first look at TiDB Cloud - a fully-managed database-as-a-service for modern applications.',
            date: 'Feb 2024',
            youtubeId: 'YU6jdrRc2cc'
        },
        {
            title: 'Introduction to TiDB OSS',
            description: 'Getting started with TiDB Open Source - exploring the distributed SQL database architecture.',
            date: 'Nov 12, 2025',
            youtubeId: 'MQmn8GzZMRY'
        },
        {
            title: 'Real-Time Change Data Capture with PostgreSQL',
            description: "In this tutorial, you'll learn how to set up PostgreSQL Change Data Capture in minutes using Airbyte, leveraging a powerful tool like Debezium to build real-time data pipelines.",
            date: 'Jun 27, 2022',
            youtubeId: 'CQ7JKwKIIg8'
        },
        {
            title: 'What Is Docker And Why Is It Important?',
            description: 'What is Docker and why should you care? Docker is an open-source project that allows you to create isolated virtual development environments for your applications.',
            date: 'Jul 18, 2022',
            youtubeId: 'qev6hcY9NoI'
        },
        {
            title: 'How to create an ELT pipeline from Postgres to BigQuery with Airbyte',
            description: "In this video, we'll show you how to quickly and easily set up an ELT pipeline from Postgres to BigQuery using Airbyte. You'll see how easy it is to get started with data integration.",
            date: 'Aug 17, 2022',
            youtubeId: 'w1VkzQQlZzs'
        },
        {
            title: "What You Don't Know About Postgres 2022",
            description: 'PostgreSQL is a powerful open-source database that has been around for more than 30 years! But what is it? And where did it come from? Watch this video to learn more.',
            date: 'Aug 19, 2022',
            youtubeId: 'tGVqc1m19tU'
        },
        {
            title: 'Synchronize Data from MongoDB to PostgreSQL in Minutes!',
            description: "Learn how to quickly migrate data from MongoDB to PostgreSQL using Airbyte's powerful data integration platform. This step-by-step guide makes it easy to sync your data.",
            date: 'Feb 28, 2023',
            youtubeId: 'Ls-qQsYY9qs'
        },
        {
            title: 'Are Custom ETL Pipelines Outdated? 2023',
            description: 'In this video, we dive deep into ETL pipelines and explore the pros and cons of both custom ETL pipelines and modern ETL tools for data engineering.',
            date: 'Apr 27, 2023',
            youtubeId: '_2xMTssTK9c'
        },
        {
            title: 'How To Become a Data Engineer',
            description: 'In this video we explore different paths (BootCamps, degrees, or self-teaching) and essential technical competencies like Python, SQL, and cloud computing for becoming a data engineer.',
            date: 'Jun 1, 2023',
            youtubeId: 'r6y5YEplFcY'
        },
        {
            title: 'PostgreSQL vs MySQL',
            description: 'Step into the world of MySQL and Postgres with our comprehensive comparison video. We dive deep into their individual strengths and weaknesses, guiding you to make the best choice.',
            date: 'Jun 12, 2023',
            youtubeId: 'vAv5lks4gzA'
        }
    ],

    shorts: [
        {
            youtubeId: 'txSodJuesO0',
            title: 'Are We In An AI Bubble?',
            date: 'Nov 12, 2025',
            viewCount: '1.5K'
        },
        {
            youtubeId: 'miKJSp10zio',
            title: "No One's Talking About This Part of AI",
            date: 'Nov 14, 2025',
            viewCount: '1.5K'
        },
        {
            youtubeId: 'yrHFCB7NOlI',
            title: 'Claude AI Was Used to Hack Real Companies ğŸ‘€ğŸ˜¬',
            date: 'Nov 15, 2025',
            viewCount: '2.5K'
        },
        {
            youtubeId: 'KVkPXkM-vuI',
            title: "This Isn't How We Thought AI Would Attack Us",
            date: 'Nov 15, 2025',
            viewCount: '2.2K'
        },
        {
            youtubeId: 'LDZ7o1-7_T8',
            title: "AI Is Making You Lazy & There's Proof",
            date: 'Nov 16, 2025',
            viewCount: '2.7K'
        },
        {
            youtubeId: 'FKx9kcDbpGw',
            title: 'ChatGPT can NOW control your BROWSER ğŸ‘€',
            date: 'Oct 22, 2025',
            viewCount: '844'
        },
        {
            youtubeId: 'eZwmu92xz3k',
            title: "DeepSeek Just Solved AI's Biggest Problem ğŸ‘€ğŸ¤¯",
            date: 'Oct 27, 2025',
            viewCount: '974'
        },
        {
            youtubeId: 'Hjt2YOkZ6eU',
            title: 'The Problem With MySQL ğŸ˜¬',
            date: 'Oct 27, 2025',
            viewCount: '912'
        },
        {
            youtubeId: '5Ydcsz8idF4',
            title: 'The AI Race No One Talks About',
            date: 'Oct 29, 2025',
            viewCount: '864'
        },
        {
            youtubeId: 'Hgsbl3S9cFQ',
            title: 'MySQL is great untilâ€¦',
            date: 'Nov 3, 2025',
            viewCount: '757'
        },
        {
            youtubeId: 'KzeZ8BCxpkw',
            title: 'Does AI Have A Conscious Now?! ğŸ‘€',
            date: 'Nov 5, 2025',
            viewCount: '177'
        },
        {
            youtubeId: 'C3O5_xnXFXQ',
            title: 'The $150B AI Mistake ğŸ¤¯',
            date: 'Nov 12, 2025',
            viewCount: '958'
        },
        {
            youtubeId: '4M31pkFsBsA',
            title: 'Is AI Cooked? ğŸ˜¬',
            date: 'Nov 12, 2025',
            viewCount: '1.3K'
        },
        {
            youtubeId: 'L6PMqph3BFc',
            title: 'Kimi K2 Just Beat GPT-5 ğŸ‘€ğŸ¤¯',
            date: 'Nov 13, 2025',
            viewCount: '411'
        },
        {
            youtubeId: 'HQl6o-fexdY',
            title: 'GPT 5.1 Is Here ğŸ”¥',
            date: 'Nov 17, 2025',
            viewCount: '778'
        },
        {
            youtubeId: 'm83meleWmfY',
            title: 'Why AI Agents Need a Real Database (Not Just Vectors)',
            date: 'Nov 17, 2025',
            viewCount: '820'
        },
        {
            youtubeId: 'J-CDu4lVkX8',
            title: 'Google Just Proved Everyone Wrong About AI ğŸ¤¯',
            date: 'Nov 21, 2025',
            viewCount: '7'
        }
    ],

    interviews: [
        {
            youtubeId: 'hAR_dOXhS2U',
            title: "From Immigrant to Sr Software Engineer & Instructor: Yihua Zhang",
            description: "Yihua Zhang shares his journey from immigrant to senior software engineer and instructor, discussing his experience teaching and mentoring developers.",
            date: 'Jun 5, 2023'
        },
        {
            youtubeId: 'p7byWAdjY4M',
            title: "What YouTubers Don't Tell You About Learning How To Code | Jeremiah Peoples",
            description: "Jeremiah Peoples reveals the truth about learning to code that most YouTubers won't share, offering honest advice for aspiring developers.",
            date: 'May 24, 2023'
        },
        {
            youtubeId: 'zWP6izpG014',
            title: "Why Developers Are Leaving Tech 2023",
            description: "An in-depth discussion about why developers are leaving the tech industry in 2023, exploring burnout, job market changes, and career transitions.",
            date: 'May 10, 2023'
        },
        {
            youtubeId: 'cTh2lwZ1bLA',
            title: "How To Become A Software Engineer in 2023 | Self Taught Developer",
            description: "A comprehensive guide for self-taught developers looking to break into software engineering in 2023, covering essential skills and strategies.",
            date: 'Apr 26, 2023'
        },
        {
            youtubeId: 'wKI8-bJX9_s',
            title: "2023 Software Engineering Tech Interview Prep | Grokking the Coding Interview",
            description: "Expert advice on preparing for software engineering technical interviews in 2023, featuring insights on the Grokking the Coding Interview course.",
            date: 'Apr 21, 2023'
        },
        {
            youtubeId: 'zF3dYQGGLkM',
            title: "How Developers Landed FAANG & MANGA Tech Jobs 2023",
            description: "Success stories from developers who landed jobs at FAANG and MANGA companies in 2023, sharing their strategies and experiences.",
            date: 'Apr 14, 2023'
        },
        {
            youtubeId: 'bwDy42p2oNk',
            title: "How Developers Are Learning To Code in 2023",
            description: "Exploring modern approaches to learning programming in 2023, including bootcamps, self-study, and emerging educational platforms.",
            date: 'Apr 7, 2023'
        },
        {
            youtubeId: 'LEIwocQ5HB8',
            title: "Should You Become A Developer in 2023?",
            description: "An honest discussion about whether pursuing a career in software development is the right choice in 2023, considering current market conditions.",
            date: 'Mar 31, 2023'
        },
        {
            youtubeId: 'pBf2cVoH4IA',
            title: "Career and Coding Advice for Developers & Engineers",
            description: "Practical career and coding advice for developers and engineers at all levels, covering professional growth and technical skills.",
            date: 'Mar 24, 2023'
        },
        {
            youtubeId: '2xdBsBwr4Hk',
            title: "Transitioning Careers into Tech + Overcoming Challenges",
            description: "Stories and advice about making a successful career transition into tech, addressing common challenges and obstacles.",
            date: 'Feb 28, 2023'
        },
        {
            youtubeId: 'cUpKGfA-Ooo',
            title: "Software Engineer Career Advice Q&A",
            description: "Q&A session covering various aspects of software engineering careers, answering common questions from aspiring and current developers.",
            date: 'Feb 24, 2023'
        },
        {
            youtubeId: 'dNASkBuhPy0',
            title: "Haseeb Qureshi, a16z Managing Partner - Transitioning from Poker Pro to Tech Investor",
            description: "Haseeb Qureshi shares his unique journey from professional poker player to managing partner at a16z, offering insights on career pivots.",
            date: 'Aug 31, 2022'
        },
        {
            youtubeId: 'ONAI7vLRgCA',
            title: "How I Learned to Code | @ThePrimeagen",
            description: "ThePrimeagen shares his personal story of learning to code, including the challenges and breakthroughs along the way.",
            date: 'Aug 23, 2022'
        },
        {
            youtubeId: '8t5w4fVmDFw',
            title: "Joma Tech, Comedian/Youtuber & Ex-Software Engineer - Why developers are quitting tech",
            description: "Joma Tech discusses why developers are leaving the tech industry, combining humor with serious insights about industry challenges.",
            date: 'Aug 17, 2022'
        },
        {
            youtubeId: 'xd_2oVGAmII',
            title: "How To Become A Software Developer",
            description: "A comprehensive overview of the path to becoming a software developer, covering education, skills, and career planning.",
            date: 'Aug 10, 2022'
        },
        {
            youtubeId: 'MooA-8eXnMo',
            title: "Ask Me Anything (AMA) About Software Engineering & Tech Interviews",
            description: "Open AMA session covering software engineering topics and tech interview preparation, answering community questions.",
            date: 'Aug 5, 2022'
        },
        {
            youtubeId: 'yD2dYgXIyGc',
            title: "Code and Coding Careers Q&A",
            description: "Q&A focused on coding practices and career development in software engineering, addressing viewer questions.",
            date: 'Jul 27, 2022'
        }
    ],

    talks: [
        {
            title: 'Write LIKE Me, Not FOR Me',
            description: 'How I built an AI Chrome extension that learns your writing style without storing your words. Covers real-time audio streaming with Deepgram, context detection, and storing style profiles in TiDB alongside vector embeddings.',
            date: 'Mar 23, 2026',
            conference: 'AllThingsAI (Durham, NC)',
            hasRecording: false,
            externalLink: 'https://2026.allthingsai.org/',
            customThumbnail: '/imgs/allthingsai-2026.jpg'
        },
        {
            title: 'Meaningful Answers, Not Keyword Matches',
            description: 'Conference talk at OSA Con demonstrating how semantic search and AI can transform FAQ search from keyword matching to actually understanding what users are asking.',
            date: 'Nov 2025',
            conference: 'OSA Con 2025',
            youtubeId: 'RNbGtEcXEj4',
            hasRecording: true
        },
        {
            title: 'Why Your FAQ Search Sucks and How I Fixed It',
            description: 'Conference talk demonstrating how to improve FAQ search functionality using modern search techniques.',
            date: 'Aug 20, 2025',
            conference: 'Tech Conference',
            youtubeId: 'IOfmkA978cU',
            hasRecording: true
        },
        {
            title: 'Demystifying Data Replication with PostgreSQL',
            description: 'Conference talk at Percona Live exploring PostgreSQL replication strategies and best practices.',
            date: 'Jun 26, 2024',
            conference: 'Percona Live',
            youtubeId: 'vlzuyVwZUao',
            hasRecording: true,
            customThumbnail: '/imgs/percona.webp'
        },
        {
            title: 'SF Awesome AI Dev Tools',
            description: 'Showcasing the latest AI development tools and frameworks at San Francisco meetup.',
            date: 'Jun 16, 2025',
            conference: 'SF Meetup',
            hasRecording: false,
            externalLink: 'https://luma.com/y2mjhnfw',
            customThumbnail: '/imgs/sf-awesome-ai-tools.webp'
        },
        {
            title: 'From Vectors to Agentic Memory: Architecting for Supercharged AI Development',
            description: 'Deep dive into AI architecture patterns and memory systems for modern AI applications.',
            date: 'Sep 23, 2025',
            conference: 'SF Meetup',
            hasRecording: false,
            externalLink: 'https://luma.com/pquy8jlb',
            customThumbnail: '/imgs/aws-builder-loft.webp'
        },
        {
            title: 'Open Source ELT For Everyone â€“ Level Up With Custom Connectors',
            description: 'Conference talk at Big Data LDN covering open-source ELT pipelines and building custom data connectors.',
            date: 'Oct 18, 2022',
            conference: 'Big Data LDN',
            youtubeId: 'Jn9N1kljCZw',
            hasRecording: true
        }
    ],

    blogs: [
        {
            title: 'Building an AI That Shows You Your Possible Futures',
            description: 'Not just pros and cons. Branching timelines of what your life might actually look like. I built Parallel Lives to stop copy-pasting my life decisions into chat windows.',
            date: 'Jan 30, 2026',
            link: '/blog/parallel-lives/',
            customThumbnail: '/imgs/parallellives demo.png'
        },
        {
            title: 'I Built a System That Writes My Autobiography While I Use It',
            description: 'Most journaling apps are just storage. I built a system that watches my entries, finds patterns in my thinking, and writes my life story in third person - like a biographer following me around.',
            date: 'Dec 3, 2025',
            link: '/blog/ai-journal-system/',
            customThumbnail: '/imgs/image12-4.webp'
        },
        {
            title: 'Building a Voice-to-Text App That Learns Your Style (Without Storing Your Words)',
            description: 'Privacy-first style learning with TiDB vector search. Can you teach an AI how someone writes by storing statistics only?',
            date: 'Jan 27, 2026',
            link: '/blog/speak-it/',
            customThumbnail: '/imgs/speak-it.png'
        },
        {
            title: 'Building an AI College Advisor That Shows You the Money (Not Just Rankings)',
            description: 'College rankings don\'t help. I built an AI-powered tool that compares colleges based on actual financial outcomes. Not vibes. Not rankings. Money.',
            date: 'Jan 29, 2026',
            link: '/blog/college-picker/',
            customThumbnail: '/imgs/college picker.png'
        }
    ],

    projects: [
        {
            title: 'Parallel Lives',
            description: 'AI-powered branching decision simulator that models long-term life, career, and financial outcomes using multi-model reasoning.',
            date: 'Dec 2025',
            link: '/parallel-lives/',
            demo: 'https://app.parallellives.ai',
            customThumbnail: '/imgs/parallellives demo.png',
            tags: ['AI', 'Branching', 'Multi-Model', 'Vector Search'],
            isPrivate: true
        },
        {
            title: 'Journal It',
            description: 'AI-powered journaling system that synthesizes entries, detects patterns, and writes your life story in third person like a biographer following you around.',
            date: 'Dec 2025',
            link: '/journalit_readme/',
            demo: 'https://app.parallellives.ai/journal?dev=beta031419!',
            customThumbnail: '/imgs/image12-4.webp',
            tags: ['AI', 'Semantic Memory', 'Multi-Model', 'Vector Search'],
            isPrivate: true
        },
        {
            title: 'atlasMemory',
            description: 'A unified AI memory layer with branching, rollbacks, and conflict detection â€” all powered by a single TiDB table.',
            date: 'Nov 2025',
            link: 'https://github.com/RealChrisSean/atlasMemory',
            demo: 'https://atlasmemory-production.up.railway.app',
            customThumbnail: '/imgs/atlasMemory.webp',
            tags: ['AI', 'Vector Search', 'MySQL'],
            isPrivate: false
        },
        {
            title: 'tidb-ai-docs-copilot',
            description: 'Turns unstructured docs and GitHub issues into a structured TiDB knowledge graph using Bedrock embeddings + TiDB Vector.',
            date: 'Oct 2025',
            link: 'https://github.com/RealChrisSean/tidb-ai-docs-copilot',
            tags: ['AI', 'RAG', 'Vector Search', 'MySQL'],
            isPrivate: false
        },
        {
            title: 'semantic-qna',
            description: 'A semantic FAQ assistant (CLI + web UI) using AWS Bedrock embeddings & TiDB Cloud vector search.',
            date: 'Sep 2025',
            link: 'https://github.com/RealChrisSean/semantic-qna',
            tags: ['AI', 'RAG', 'Vector Search', 'MySQL'],
            isPrivate: false
        },
        {
            title: 'Speak It',
            description: 'Chrome extension for voice-to-text that learns your writing style without storing your words. Works anywhere you type.',
            date: 'Jan 2026',
            link: 'https://app.parallellives.ai/speak-it',
            demo: 'https://app.parallellives.ai/speak-it',
            customThumbnail: '/imgs/speak-it.png',
            tags: ['AI', 'Chrome Extension', 'Vector Search', 'TiDB'],
            isPrivate: true
        },
        {
            title: 'College Picker',
            description: 'AI-powered college comparison tool that simulates your financial future based on real Department of Education data.',
            date: 'Jan 2026',
            link: 'https://github.com/RealChrisSean/college-picker',
            demo: 'https://app.parallellives.ai/collegepicker',
            customThumbnail: '/imgs/college picker.png',
            tags: ['AI', 'Vector Search', 'TiDB', 'RAG'],
            isPrivate: false
        }
    ]
};

function getYouTubeThumbnail(videoId) {
    return `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
}

function getYouTubeUrl(videoId) {
    return `https://www.youtube.com/watch?v=${videoId}`;
}

function getAllContent() {
    const content = [];

    portfolioContent.videos.forEach(video => {
        content.push({
            type: 'video',
            title: video.title,
            description: video.description,
            date: video.date,
            icon: 'fab fa-youtube',
            thumbnail: video.customThumbnail || getYouTubeThumbnail(video.youtubeId),
            link: getYouTubeUrl(video.youtubeId),
            youtubeId: video.youtubeId
        });
    });

    portfolioContent.talks.forEach(talk => {
        content.push({
            type: 'talk',
            title: talk.title,
            description: talk.description,
            date: talk.date,
            icon: 'fas fa-microphone-alt',
            thumbnail: talk.customThumbnail || (talk.youtubeId ? getYouTubeThumbnail(talk.youtubeId) : null),
            link: talk.youtubeId ? getYouTubeUrl(talk.youtubeId) : talk.externalLink,
            hasRecording: talk.hasRecording,
            conference: talk.conference,
            youtubeId: talk.youtubeId || null
        });
    });

    portfolioContent.interviews.forEach(interview => {
        content.push({
            type: 'interview',
            title: interview.title,
            description: interview.description,
            date: interview.date,
            icon: 'fas fa-comments',
            thumbnail: interview.customThumbnail || getYouTubeThumbnail(interview.youtubeId),
            link: getYouTubeUrl(interview.youtubeId),
            youtubeId: interview.youtubeId
        });
    });

    portfolioContent.blogs.forEach(blog => {
        content.push({
            type: 'blog',
            title: blog.title,
            description: blog.description,
            date: blog.date,
            icon: 'fas fa-book-open',
            thumbnail: blog.customThumbnail || 'https://placehold.co/1920x1080/ffffff/0ea5e9?text=Blog+Post',
            link: blog.link
        });
    });

    portfolioContent.projects.forEach(project => {
        content.push({
            type: 'project',
            title: project.title,
            description: project.description,
            date: project.date,
            icon: 'fab fa-github',
            thumbnail: project.customThumbnail || 'https://placehold.co/1920x1080/0f0f0f/0ea5e9?text=OSS+Project',
            link: project.link,
            demo: project.demo,
            tags: project.tags,
            isPrivate: project.isPrivate
        });
    });

    content.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateString) {
            const parts = dateString.toLowerCase().split(/[\s,]+/).filter(p => p);
            if (parts.length === 3) {
                const month = months[parts[0]];
                const day = parseInt(parts[1]);
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            } else if (parts.length === 2) {
                const month = months[parts[0]];
                const year = parseInt(parts[1]);
                return new Date(year, month, 1);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return content;
}

function getLatestVideos(count = 3) {
    const videos = getAllContent().filter(item => item.type === 'video');

    videos.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateStr) {
            if (!dateStr || dateStr.toLowerCase() === 'recent') return new Date(0);
            const parts = dateStr.toLowerCase().split(' ');
            if (parts.length === 3) {
                const month = months[parts[0].substring(0, 3)];
                const day = parseInt(parts[1].replace(',', ''));
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            } else if (parts.length === 2) {
                const month = months[parts[0].substring(0, 3)];
                const year = parseInt(parts[1]);
                return new Date(year, month, 1);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return videos.slice(0, count);
}

function getLatestTalks(count = 3) {
    const talks = getAllContent().filter(item => item.type === 'talk');

    talks.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateStr) {
            if (!dateStr) return new Date(0);
            const parts = dateStr.toLowerCase().split(' ');
            if (parts.length === 3) {
                const month = months[parts[0].substring(0, 3)];
                const day = parseInt(parts[1].replace(',', ''));
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return talks.slice(0, count);
}

function getLatestContent(count = 3) {
    // Filter out projects and talks - they have their own sections
    const all = getAllContent().filter(item =>
        item.type !== 'project' && item.type !== 'talk'
    );

    all.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateString) {
            const parts = dateString.toLowerCase().split(/[\s,]+/).filter(p => p);
            if (parts.length === 3) {
                const month = months[parts[0]];
                const day = parseInt(parts[1]);
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            } else if (parts.length === 2) {
                const month = months[parts[0]];
                const year = parseInt(parts[1]);
                return new Date(year, month, 1);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return all.slice(0, count);
}
