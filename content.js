const portfolioContent = {
    videos: [
        {
            title: 'Build a Semantic Q&A App in Minutes',
            description: 'Learn how to quickly build intelligent Q&A applications using semantic search and AI.',
            date: 'Jun 19, 2025',
            youtubeId: 'LT-BtP84mdQ'
        },
        {
            title: 'How to deploy a TiDB Cluster using TiUP',
            description: 'Step-by-step guide to deploying your TiDB cluster with TiUP deployment tool.',
            date: 'Mar 19, 2025',
            youtubeId: 'nyJm5udXpVQ'
        },
        {
            title: 'Migrate your Data from Planetscale to TiDB',
            description: 'Complete walkthrough for migrating your database from Planetscale to TiDB Cloud.',
            date: 'Jan 29, 2025',
            youtubeId: 'c1qEuQ8876g'
        },
        {
            title: 'Build Your First Cluster with TiDB',
            description: 'Get started with TiDB by building your first database cluster from scratch.',
            date: 'Nov 18, 2024',
            youtubeId: '3jfxsGZExRw'
        },
        {
            title: 'Introduction to TiDB Cloud',
            description: 'Your first look at TiDB Cloud - a fully-managed database-as-a-service for modern applications.',
            date: 'Feb 2024',
            youtubeId: 'YU6jdrRc2cc'
        },
        {
            title: 'Introduction to TiDB OSS',
            description: 'Getting started with TiDB Open Source - exploring the distributed SQL database architecture.',
            date: 'Nov 12, 2025',
            youtubeId: 'MQmn8GzZMRY'
        },
        {
            title: 'Google Actually Built the Best AI',
            description: 'Google just quietly dropped Gemini 3 and even Sam Altman and Elon Musk are blown away by them.',
            date: 'Nov 19, 2025',
            youtubeId: 'fEmQsxFIoLc'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'CQ7JKwKIIg8'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'qev6hcY9NoI'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'w1VkzQQlZzs'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'tGVqc1m19tU'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'Ls-qQsYY9qs'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: '_2xMTssTK9c'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'r6y5YEplFcY'
        },
        {
            title: 'Video Tutorial',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'vAv5lks4gzA'
        },
        {
            title: 'Google Actually Built the Best AI',
            description: 'Educational video content for developers.',
            date: 'Recent',
            youtubeId: 'e4ll2lVuj9w'
        }
    ],

    shorts: [
        {
            youtubeId: 'AaiAaaQvEaE',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'txSodJuesO0',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'miKJSp10zio',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'yrHFCB7NOlI',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'KVkPXkM-vuI',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'LDZ7o1-7_T8',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'FKx9kcDbpGw',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'eZwmu92xz3k',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'Hjt2YOkZ6eU',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: '5Ydcsz8idF4',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'Hgsbl3S9cFQ',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'KzeZ8BCxpkw',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'C3O5_xnXFXQ',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: '4M31pkFsBsA',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'L6PMqph3BFc',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'HQl6o-fexdY',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'm83meleWmfY',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'J-CDu4lVkX8',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'j4jk3h8rFNg',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: 'umNuX0-XpD4',
            title: 'Quick Tip',
            date: 'Recent'
        },
        {
            youtubeId: '7wBjeN7yNWo',
            title: 'Quick Tip',
            date: 'Recent'
        }
    ],

    interviews: [
        {
            youtubeId: 'hAR_dOXhS2U',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'p7byWAdjY4M',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'zWP6izpG014',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'cTh2lwZ1bLA',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'wKI8-bJX9_s',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'zF3dYQGGLkM',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'bwDy42p2oNk',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'LEIwocQ5HB8',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'pBf2cVoH4IA',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: '2xdBsBwr4Hk',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'cUpKGfA-Ooo',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'dNASkBuhPy0',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'ONAI7vLRgCA',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: '8t5w4fVmDFw',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'xd_2oVGAmII',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'MooA-8eXnMo',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        },
        {
            youtubeId: 'yD2dYgXIyGc',
            title: 'Developer Interview',
            description: 'Insightful conversation with industry experts.',
            date: 'Recent'
        }
    ],

    talks: [
        {
            title: 'Why Your FAQ Search Sucks and How I Fixed It',
            description: 'Conference talk demonstrating how to improve FAQ search functionality using modern search techniques.',
            date: 'Aug 20, 2025',
            conference: 'Tech Conference',
            youtubeId: 'IOfmkA978cU',
            hasRecording: true
        },
        {
            title: 'Demystifying Data Replication with PostgreSQL',
            description: 'Conference talk at Percona Live exploring PostgreSQL replication strategies and best practices.',
            date: 'Jun 26, 2024',
            conference: 'Percona Live',
            youtubeId: 'vlzuyVwZUao',
            hasRecording: true,
            customThumbnail: 'imgs/percona.png'
        },
        {
            title: 'SF Awesome AI Dev Tools',
            description: 'Showcasing the latest AI development tools and frameworks at San Francisco meetup.',
            date: 'Jun 16, 2025',
            conference: 'SF Meetup',
            hasRecording: false,
            externalLink: 'https://luma.com/y2mjhnfw',
            customThumbnail: 'imgs/sf-awesome-ai-tools.png'
        },
        {
            title: 'From Vectors to Agentic Memory: Architecting for Supercharged AI Development',
            description: 'Deep dive into AI architecture patterns and memory systems for modern AI applications.',
            date: 'Sep 23, 2025',
            conference: 'SF Meetup',
            hasRecording: false,
            externalLink: 'https://luma.com/pquy8jlb',
            customThumbnail: 'imgs/aws-builder-loft.png'
        },
        {
            title: 'Open Source ELT For Everyone â€“ Level Up With Custom Connectors',
            description: 'Conference talk at Big Data LDN covering open-source ELT pipelines and building custom data connectors.',
            date: 'Oct 18, 2022',
            conference: 'Big Data LDN',
            youtubeId: 'Jn9N1kljCZw',
            hasRecording: true
        }
    ],

    blogs: []
};

function getYouTubeThumbnail(videoId) {
    return `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
}

function getYouTubeUrl(videoId) {
    return `https://www.youtube.com/watch?v=${videoId}`;
}

function getAllContent() {
    const content = [];

    portfolioContent.videos.forEach(video => {
        content.push({
            type: 'video',
            title: video.title,
            description: video.description,
            date: video.date,
            icon: 'fab fa-youtube',
            thumbnail: video.customThumbnail || getYouTubeThumbnail(video.youtubeId),
            link: getYouTubeUrl(video.youtubeId),
            youtubeId: video.youtubeId
        });
    });

    portfolioContent.talks.forEach(talk => {
        content.push({
            type: 'talk',
            title: talk.title,
            description: talk.description,
            date: talk.date,
            icon: 'fas fa-microphone-alt',
            thumbnail: talk.customThumbnail || (talk.youtubeId ? getYouTubeThumbnail(talk.youtubeId) : null),
            link: talk.youtubeId ? getYouTubeUrl(talk.youtubeId) : talk.externalLink,
            hasRecording: talk.hasRecording,
            conference: talk.conference,
            youtubeId: talk.youtubeId || null
        });
    });

    portfolioContent.interviews.forEach(interview => {
        content.push({
            type: 'interview',
            title: interview.title,
            description: interview.description,
            date: interview.date,
            icon: 'fas fa-comments',
            thumbnail: interview.customThumbnail || getYouTubeThumbnail(interview.youtubeId),
            link: getYouTubeUrl(interview.youtubeId),
            youtubeId: interview.youtubeId
        });
    });

    portfolioContent.blogs.forEach(blog => {
        content.push({
            type: 'blog',
            title: blog.title,
            description: blog.description,
            date: blog.date,
            icon: 'fas fa-book-open',
            thumbnail: blog.customThumbnail || 'https://placehold.co/1920x1080/ffffff/0ea5e9?text=Blog+Post',
            link: blog.link
        });
    });

    content.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateString) {
            const parts = dateString.toLowerCase().split(/[\s,]+/).filter(p => p);
            if (parts.length === 3) {
                const month = months[parts[0]];
                const day = parseInt(parts[1]);
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            } else if (parts.length === 2) {
                const month = months[parts[0]];
                const year = parseInt(parts[1]);
                return new Date(year, month, 1);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return content;
}

function getLatestVideos(count = 3) {
    const videos = getAllContent().filter(item => item.type === 'video');

    videos.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateStr) {
            if (!dateStr || dateStr.toLowerCase() === 'recent') return new Date(0);
            const parts = dateStr.toLowerCase().split(' ');
            if (parts.length === 3) {
                const month = months[parts[0].substring(0, 3)];
                const day = parseInt(parts[1].replace(',', ''));
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            } else if (parts.length === 2) {
                const month = months[parts[0].substring(0, 3)];
                const year = parseInt(parts[1]);
                return new Date(year, month, 1);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return videos.slice(0, count);
}

function getLatestTalks(count = 3) {
    const talks = getAllContent().filter(item => item.type === 'talk');

    talks.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateStr) {
            if (!dateStr) return new Date(0);
            const parts = dateStr.toLowerCase().split(' ');
            if (parts.length === 3) {
                const month = months[parts[0].substring(0, 3)];
                const day = parseInt(parts[1].replace(',', ''));
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return talks.slice(0, count);
}

function getLatestContent(count = 3) {
    const all = getAllContent();

    all.sort((a, b) => {
        const months = {
            'jan': 0, 'feb': 1, 'mar': 2, 'apr': 3, 'may': 4, 'jun': 5,
            'jul': 6, 'aug': 7, 'sep': 8, 'oct': 9, 'nov': 10, 'dec': 11
        };

        function parseDate(dateString) {
            const parts = dateString.toLowerCase().split(/[\s,]+/).filter(p => p);
            if (parts.length === 3) {
                const month = months[parts[0]];
                const day = parseInt(parts[1]);
                const year = parseInt(parts[2]);
                return new Date(year, month, day);
            } else if (parts.length === 2) {
                const month = months[parts[0]];
                const year = parseInt(parts[1]);
                return new Date(year, month, 1);
            }
            return new Date(0);
        }

        return parseDate(b.date) - parseDate(a.date);
    });

    return all.slice(0, count);
}
